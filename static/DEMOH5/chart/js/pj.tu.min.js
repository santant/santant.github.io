(function(c,b,a,d){c.fn.H5PolyLine=function(e){var f={type:"PolyLine",step:10,data:[["javascript",0.4,"green"],["css",0.2],["HTML",0.3],["HTML5",0.16],["angular",0.6]]};var g=c.extend({},f,e);this.each(function(){var o=c(this);var t=parseInt(o.css("width"))*2;var n=parseInt(o.css("height"))*2;console.log(t+"----"+n);var l=a.createElement("canvas");var u=l.getContext("2d");l.width=u.width=t;l.height=u.height=n;o.append(l);var j=g.step;u.beginPath();u.lineWidth=0.3;u.strokeStyle="#aaa";b.ctx=u;for(var m=0;m<j+1;m++){var q=(n/j)*m;u.moveTo(0,q);u.lineTo(t,q)}j=g.data.length+1;var p=t/j>>0;for(var m=0;m<j+1;m++){var s=(t/j)*m;u.moveTo(s,0);u.lineTo(s,n);if(g.data[m]){var k=c("<div class='text'>");k.text(g.data[m][0]);o.append(k);k.css("width",p/2).css("left",(p*m)/2-p/4+p/2)}}u.stroke();var l=a.createElement("canvas");var u=l.getContext("2d");l.width=u.width=t;l.height=u.height=n;o.append(l);function r(v){u.clearRect(0,0,t,n);u.beginPath();u.lineWidth=3;u.strokeStyle="#ff8878";u.fillStyle="#ff8878";var h=0;var B=0;var A=(t/(g.data.length+1));for(var w in g.data){var z=g.data[w];h=A*w+A;B=n-(z[1]*n*v);u.moveTo(h,B);u.arc(h,B,5,0,Math.PI*2,true);u.fill()}u.moveTo(A,n-(g.data[0][1]*n*v));for(var w in g.data){var z=g.data[w];h=A*w+A;B=n-(z[1]*n*v);u.lineTo(h,B)}u.stroke();u.strokeStyle="rgba(255,136,120,0)";u.lineTo(h,n);u.lineTo(A,n);u.fillStyle="rgba(255,136,120,0.3)";u.fill();for(var w in g.data){var z=g.data[w];h=A*w+A;B=n-(z[1]*n*v);u.fillStyle=z[2]?z[2]:"#000";u.font="20px Arial";u.fillText(z[1]*100+"%",h-10,B-10)}u.stroke()}r(1)});return this};c.fn.H5Pie=function(e){var f={type:"Pie",data:[["javascript",0.1],["css",0.2],["HTML",0.3],["HTML5",0.15],["angular",0.25]]};var g=c.extend({},f,e);this.each(function(){var D=c(this);var s=parseInt(D.css("width"))*2;var C=parseInt(D.css("height"))*2;console.log(s+"----"+C);var B=a.createElement("canvas");var v=B.getContext("2d");B.width=v.width=s;B.height=v.height=C;c(B).css("zIndex",1);D.append(B);var t=s/2;v.beginPath();v.fillStyle="#eee";v.strokeStyle="#eee";v.lineWidth=0.1;v.arc(t,t,t,0,2*Math.PI);v.fill();v.stroke();var B=a.createElement("canvas");var v=B.getContext("2d");B.width=v.width=s;B.height=v.height=C;c(B).css("zIndex",2);D.append(B);var n=["#5ddbd8","#99c0ff","#ffad69","#ff7676","#ccc"];var u=1.5*Math.PI;var F=0;var l=Math.PI*2;var k=g.data.length;for(var A=0;A<k;A++){var E=g.data[A];var z=E[2]||(E[2]=n.pop());F=u+l*E[1];v.beginPath();v.fillStyle=z;v.strokeStyle=z;v.lineWidth=0.1;v.moveTo(t,t);v.arc(t,t,t,u,F);v.fill();v.stroke();u=F;var j=c("<div class='text'>");j.text(g.data[A][0]);var q=c("<div class='per'>");q.text(g.data[A][1]*100+"%");j.css("zIndex","999");j.append(q);var p=t+Math.sin(0.5*Math.PI-u)*t>>0;var m=t+Math.cos(0.5*Math.PI-u)*t>>0;if(p>s/2){j.css("left",p/2)}else{j.css("right",(s-p)/2)}if(m>C/2){j.css("top",m/2)}else{j.css("bottom",(C-m)/2)}if(g.data[A][2]){j.css("color",z)}j.css({"transition":"all 1s "+A*0.1+"s"});D.append(j)}var B=a.createElement("canvas");var v=B.getContext("2d");B.width=v.width=s;B.height=v.height=C;c(B).css("zIndex",3);D.append(B);v.fillStyle="#eee";v.strokeStyle="#eee";var o=function(h){v.clearRect(0,0,s,C);v.beginPath();v.moveTo(t,t);if(h<=0){v.arc(t,t,t,0,2*Math.PI*h);D.find(".text").css("opacity",0)}else{v.arc(t,t,t,u,u+2*Math.PI*h,true)}v.fill();v.stroke();if(h>=1){D.find(".text").css("opacity",1)}};o(1)});return this};c.fn.H5Radar=function(e){var f={type:"Radar",data:[["javascript",0.77],["css",0.6],["HTML",0.8],["HTML5",0.45],["angular",0.85]]};var g=c.extend({},f,e);this.each(function(){var t=c(this);var A=parseInt(t.css("width"))*2;var q=parseInt(t.css("height"))*2;console.log(A+"----"+q);var m=a.createElement("canvas");var B=m.getContext("2d");m.width=B.width=A;m.height=B.height=q;t.append(m);var j=A/2;var k=g.data.length;var o=false;for(var C=10;C>0;C--){B.beginPath();for(var p=0;p<k;p++){var n=(2*Math.PI/360)*(360/k)*p;var z=j+Math.sin(n)*j*(C/10);var u=j+Math.cos(n)*j*(C/10);B.lineTo(z,u)}B.closePath();B.fillStyle=(o=!o)?"#99c0ff":"#f1f9ff";B.fill()}for(var p=0;p<k;p++){var n=(2*Math.PI/360)*(360/k)*p;var z=j+Math.sin(n)*j>>0;var u=j+Math.cos(n)*j>>0;B.moveTo(j,j);B.lineTo(z,u);var l=c("<div class='text'>");l.text(g.data[p][0]);l.css({"top":u/2});if(z>A/2){l.css("left",z/2+5)}else{l.css("right",(A-z)/2+5)}if(u>q/2){l.css("top",u/2+5)}else{l.css("top",0);l.css("bottom",(q-u)/2+5)}if(g.data[p][2]){l.css("color",g.data[p][2])}t.append(l)}B.strokeStyle="#e0e0e0";B.stroke();var m=a.createElement("canvas");var B=m.getContext("2d");m.width=B.width=A;m.height=B.height=q;t.append(m);B.strokeStyle="#ff7676";var v=function(w){if(w>=1){c(".text").css("opacity",1)}if(w<=0){c(".text").css("opacity",0)}B.clearRect(0,0,A,q);for(var r=0;r<k;r++){var D=(2*Math.PI/360)*(360/k)*r;var s=g.data[r][1]*w;var h=j+Math.sin(D)*j*s;var E=j+Math.cos(D)*j*s;B.lineTo(h,E)}B.closePath();B.stroke();B.fillStyle="#ff7676";for(var r=0;r<k;r++){var D=(2*Math.PI/360)*(360/k)*r;var s=g.data[r][1]*w;var h=j+Math.sin(D)*j*s;var E=j+Math.cos(D)*j*s;
B.beginPath();B.arc(h,E,5,0,2*Math.PI);B.fill()}};v(1)});return this};c.fn.H5Bar=function(e){var f={type:"Bar",data:[["js",0.7,"#ff7676"],["css",0.2],["HTML",0.3],["HTML5",0.4],["angular",0.6],["Webapp",0.1],["nodeJs",0.2],["Ios",0.12],["Java",0.52],["PHP",0.42]]};var g=c.extend({},f,e);this.each(function(){var h=c(this);c.each(g.data,function(j,p){var k=c("<div class='line'></div>");var l=c("<div class='name'></div>");var o=c("<div class='rate'></div>");var n=c("<div class='par'></div>");var m=c("<div class='bg'></div>");var i=p[1]*100+"%";if(p[2]){m.css("background",p[2]);n.css("color",p[2])}o.append(m);l.text(p[0]);o.css("width",i);n.text(i);k.append(l).append(o).append(n);h.append(k)})});return this};c.fn.H5Point=function(e){var f={type:"Point",data:[["初级",0.4,"#ff7676"],["高级",0.25,"#99c1ff","-80%","-20%"],["中级",0.35,"#ffa4a4","40%","120%"]]};var g=c.extend({},f,e);this.each(function(){var h=c(this);h.width(c(this).width()).height(c(this).width());var i=g.data[0][1];c.each(g.data,function(k,o){var j=c("<div class='point point_"+k+"'></div>");var m=(o[1]/i*100)+"%";var n=c("<div class='NumText'>"+o[0]+" </div>");var l=c("<div class='NumRate'>"+(o[1]*100)+"%"+"</div>");n.append(l);j.append(n);j.width(m).height(m);if(o[2]){j.css("backgroundColor",o[2])}if(o[2]!==d&&o[3]!==d){j.css({"left":o[3],"top":o[4]})}h.append(j)})});return this}})(jQuery,window,document);