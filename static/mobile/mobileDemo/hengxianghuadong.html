<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,user-scalable=no" />
<title>无标题文档</title>
<style type="text/css">
	
</style>
<script>
setRem();
window.addEventListener("orientationchange", setRem);
window.addEventListener("resize", setRem);
function setRem() {
	var html = document.querySelector("html");
	var width = html.getBoundingClientRect().width;
	html.style.fontSize = width / 16 + "px";
}
</script>
<style type="text/css">
	body,
h1,
h2,
h3,
h4,
h5,
h6,
p,
dl,
dd {
  margin: 0;
  -webkit-text-size-adjust: 100%;
  font-family: Helvetica;
}
ul,
ol {
  margin: 0;
  padding: 0;
  list-style: none;
 
}
img {
  display: block;
}
a {
  text-decoration: none;
}
a,
input,
button {
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  -webkit-appearance: none;
  outline: none;
}
html,
body {
  height: 100%;
  position: relative;
  overflow: hidden;
  background: #eee;
}
.wrap {
  height: 100%;
  overflow: auto;
}
#header {
  position: absolute;
  background: rgba(0, 0, 0, 0.8);
  left: 0;
  top: 0;
  width: 100%;
  z-index: 2;
}
.headerC {
  height: 2rem;
}
#logo {
  float: left;
  padding: 0.38518519rem 0.25185185rem 0.31111111rem;
}
#logo img {
  width: 3.55555556rem;
}
#menuBtn {
  float: left;
  width: 1.91111111rem;
  height: 2rem;
  background: url(../img/menuBtn.png) no-repeat;
  background-size: 1.21481481rem 3.45185185rem;
}
.menuBtnClos {
  background-position: center 0.23703704rem !important;
}
.menuBtnShow {
  background-position: center -1.77777778rem !important;
}
#btns {
  float: right;
  padding-top: 0.31111111rem;
}
#btns a {
  float: left;
  margin-right: 0.22222222rem;
  width: 1.64444444rem;
  background: #690;
  color: #ccc;
  font-size: 0.62222222rem;
  line-height: 1.15555556rem;
  text-align: center;
  border-radius: 0.11851852rem;
}
#btns .searchBtn {
  font-weight: bold;
  color: #fff;
  margin-right: 0.44444444rem;
  width: 1.92592593rem;
  line-height: 1.3037037rem;
  border-radius: 0.14814815rem;
}
.search {
  height: 1.52592593rem;
  padding: 0.23703704rem;
}
.search input[type="text"] {
  float: left;
  width: 12.28148148rem;
  height: 1.52592593rem;
  background: #999;
  padding: 5px 10px;
  border: 1px solid #5a5a5a;
  box-sizing: border-box;
  font-size: .6rem;
  color: #333;
  border-radius: 0.22222222rem 0 0 0.22222222rem;
}
.search input[type="text"]:focus {
  background: #fff;
}
.search input[type="text"]::-webkit-input-placeholder {
  color: #333;
}
.search input[type="submit"] {
  width: 3.00740741rem;
  height: 1.52592593rem;
  float: right;
  border: none;
  background: #414040;
  color: #fff;
  border-radius: 0 0.22222222rem 0.22222222rem 0;
  font-size: 0.77037037rem;
}
#nav {
  position: absolute;
  width: 100%;
  left: 0;
  top: 2rem;
  border-top: 1px solid #6a6a6a;
  background: rgba(0, 0, 0, 0.8);
  padding: 0.14814815rem 0;
  display: none;
}
#nav li {
  float: left;
  width: 22.5%;
  line-height: 2rem;
  font-size: .8rem;
  text-align: center;
}
#nav a {
  color: #fff;
}
.content {
  padding-top: 4rem;
  position: relative;
  z-index: 1;
}
#navScroll {
  height: 2.62222222rem;
  border-bottom: 1px solid #ccc;
  box-sizing: border-box;
  padding: 0.45925926rem 0 0.20740741rem;
  overflow: hidden;
}
#navs {
  height: 1.91111111rem;
  white-space: nowrap;
  font-size: 0;
  float: left;
}
#navs li {
  display: inline-block;
  padding: 0 0.56296296rem;
  line-height: 1.91111111rem;
  font-size: 1.03703704rem;
}
#navs a {
  color: #020202;
}
#navs .active {
  background: #690;
}
#navs .active a {
  color: #fff;
}
#picTab {
  overflow: hidden;
  position: relative;
}
#picList {
  width: 400%;
}
#picList li {
  float: left;
  width: 25%;
}
#picList img {
  width: 100%;
  display: block;
}
#picNav {
  position: absolute;
  left: 0;
  bottom: 3px;
  width: 100%;
  line-height: 10px;
  text-align: center;
}
#picNav span {
  display: inline-block;
  width: 10px;
  height: 10px;
  background: #C00;
  border-radius: 5px;
}
#picNav .active {
  background: #0F0;
}
.tab{
	width: 15.5rem;
	margin: 0 auto;
	background:#fff;
	overflow: hidden;
}
.tabHeader {
	height: 2rem;
}
.tabHeader h2 {
	float: left;
}
.tabHeader a {
	float: right;
}
.tabNav {
	height: 1.56rem;
	position: relative;
}
.tabNav a {
	width: 1.79rem;
	text-align:  center;
	float: left;
	font-size: .65rem;
	color: #6b6b6b;
	line-height: 1.56rem;
}
.tabNav span {
	position: absolute;
	left: 0;
	bottom: 0.1rem;
	width: 1.79rem;
	height: 3px;
	background: #6f900d;
}
.tabList {
	width: 300%;
	overflow:  hidden;
}
.tabList ul{
	width: 33.3333%;
	float: left;
}
.tabList li{
	width: 7.5rem;
	float: left;
	margin: .12rem;
	padding: 5px;
	box-sizing: border-box;
	background: #efefef;
	font-size: .6rem;
	
}
.tabList a{
	display: block;
	color: #000;
	white-space: nowrap;
	overflow:  hidden;
	text-overflow: ellipsis;
}
.tabList img{
	width: 100%;
}
.tabNext {
	font-size: 100px;
	text-align: center;
	opacity:  0;
}
/* font boosting 元素必须有高度 不能设置高度 加 max-height*/
</style>
</head>
<body>
<section class="wrap">
	<div class="content">
		<nav id="navScroll">
			<ul id="navs">
				<li class="active">
		            <a href="javascript:void(0);" class="" data-tab="index">首页</a>
		        </li>
		        <li>
		            <a href="javascript:void(0);" data-tab="mv" class="">MV</a>
		        </li>
		        <li>
		            <a href="javascript:void(0);" data-tab="pl" class="">悦单</a>
		        </li>
		        <li>
		            <a href="javascript:void(0);" data-tab="vchart" class="">V榜</a>
		        </li>
			    <li><a href="http://zhongchou.yinyuetai.com/wap" class="">众筹</a></li>
		        <li>
		            <a href="http://www.yinyuetai.com/fanMass" data-tab="wapfan" class="">饭团</a>
		        </li>
		        <li>
		            <a href="javascript:void(0);" data-tab="program" class="">节目</a>
		        </li><li>
		            <a href="javascript:void(0);" data-tab="program" class="">节目</a>
		        </li>
		        <li>
		            <a href="javascript:void(0);" data-tab="stage" class="">音悦stage</a>
		        </li>
		        <li>
		            <a href="javascript:void(0);" data-tab="apps/mobile" class="">APP下载</a>
		        </li>
		        <li>
		            <a href="http://news.yinyuetai.com/" target="_blank" class="">资讯</a>
		        </li>
		        <li>
		            <a href="http://i.yinyuetai.com" target="_blank" class="selected">我的家</a>
		        </li>
		        <li>
		            <a href="javascript:void(0);" data-tab="apps" class="">热门应用</a>
		        </li>
			</ul>
		</nav>
		
	</div>
</section>
<script src="js/transform.js"></script>
<script>
function cssTransform(el,attr,val) {
	if(!el.transform){
		el.transform = {};
	}
	if(arguments.length>2) {
		el.transform[attr] = val;
		var sVal = "";
		for(var s in el.transform){
			switch(s) {
				case "rotate":
				case "skewX":
				case "skewY":
					sVal +=s+"("+el.transform[s]+"deg) ";
					break;
				case "translateX":
				case "translateY":
				case "translateZ":
					sVal +=s+"("+el.transform[s]+"px) ";
					break;
				case "scaleX":
				case "scaleY":
				case "scale":
					sVal +=s+"("+el.transform[s]+") ";
					break;	
			}
			el.style.WebkitTransform = el.style.transform = sVal;
		}
	} else {
		val  = el.transform[attr];
		if(typeof val == "undefined" ) {
			if(attr == "scale" || attr == "scaleX" || attr == "scaleY"  ) {
				val = 1;
			} else {
				val = 0;
			}
		}
		return val;
	}
}
window.onload = function(){
	document.addEventListener("touchmove",function(ev){
		ev.preventDefault();
	})
	//手写横向的滑动
	var oUL = document.getElementById("navs");
	//cssTransform设置下需要移动的translateX
	cssTransform(oUL,"translateZ",0);
	cssTransform(oUL,"translateX",0);
	var startPoint = 0;//手指开始的位置
	var startEl = 0;//物体运动的位置	
	var minX = 0;//超出的最小值
	var maxX = 0;//超出的最大值
	var minsX = oUL.offsetWidth - document.body.offsetWidth;//最小值－>向右运动的最大差值
	oUL.addEventListener("touchstart",function(ev){

		oUL.style.transition = 'none';
		var touchs = ev.changedTouches[0];//手指对象
   		startPoint = touchs.pageX;//手指移动时候的坐标
   		//在拖动的时候获取到当前运动到的位置
   		startEl = cssTransform(oUL,"translateX"); 		
	})
	oUL.addEventListener("touchmove",function(ev){
		oUL.style.transition = 'none';
		var touchs = ev.changedTouches[0];//手指对象
   		nowPoint = touchs.pageX;//手指移动时候的坐标   		
   		console.log(startEl);
   		//手指移动的坐标
   		var dis = nowPoint - startPoint; 
   		var left = dis+startEl;
   		if (left>0) {
   			//>0的时候让它缓慢拖动，现在只需要修改left的倍数就ok
   			left=parseInt(left*0.4);  		
   		}
   		if (left < -minsX) {
   			var over = -minsX -left//右边超出值
     		left =-minsX-over*0.4;
   		}
   		cssTransform(oUL,"translateZ",0);
   		cssTransform(oUL,"translateX",left);   		
	})
	oUL.addEventListener("touchend",function(ev){
		oUL.style.transition = '0.5s';
		var translateX = cssTransform(oUL,"translateX"); 		
		if (translateX>0) {
			cssTransform(oUL,"translateZ",0);
			cssTransform(oUL,"translateX",0);
		}
		if (translateX < -minsX) {
			cssTransform(oUL,"translateZ",0);
			cssTransform(oUL,"translateX",-minsX);
		}
	})
}

</script>
</body>
</html>		